webpackJsonp([3],{"1ylw":function(t,e,i){"use strict";var r=i("NYxO"),a=i("lHQJ"),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};e.a={name:"RwvArticleActions",props:{article:{type:Object,required:!0},canModify:{type:Boolean,required:!0}},computed:n({},i.i(r.a)(["profile","isAuthenticated"])),methods:{toggleFavorite:function(t){if(this.isAuthenticated){var e=this.article.favorited?a.j:a.i;this.$store.dispatch(e,t)}},toggleFollow:function(t){if(this.isAuthenticated){var e=t?a.d:a.c;this.$store.dispatch(e,{username:this.profile.username})}},editArticle:function(t,e){this.$router.push({name:"article-edit",params:{slug:t,previousArticle:e}})},deleteArticle:function(t){var e=this;this.$store.dispatch(a.l,t).then(function(t){e.$router.push("/")})}}}},"8PQg":function(t,e,i){"use strict";e.a={name:"RwvTag",props:{name:{type:String,required:!0},className:{type:String,default:"tag-pill tag-default"}}}},"9Ajx":function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.canModify?i("span",[i("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"article-edit",params:{slug:this.article.slug}}}},[i("i",{staticClass:"ion-edit"}),t._v(" Edit Article\n  ")]),t._v("\n    \n  "),i("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){t.deleteArticle(t.article.slug)}}},[i("i",{staticClass:"ion-trash-a"}),t._v(" Delete Article\n  ")])],1):i("span",[i("button",{staticClass:"btn btn-sm btn-outline-secondary",on:{click:function(e){t.toggleFollow(t.profile.following)}}},[i("i",{staticClass:"ion-plus-round"}),t._v("\n     \n    "+t._s(t.profile.following?"Unfollow":"Follow")+" "+t._s(t.article.author.username)+"\n  ")]),t._v("\n    \n  "),i("button",{staticClass:"btn btn-sm",class:{"btn-primary":t.article.favorited,"btn-outline-primary":!t.article.favorited},on:{click:function(e){t.toggleFavorite(t.article.slug)}}},[i("i",{staticClass:"ion-heart"}),t._v(" \n    "+t._s(t.article.favorited?"Unfavorite Article":"Favorite Article")+"\n    "),i("span",{staticClass:"counter"},[t._v("\n      ("+t._s(t.article.favoritesCount)+")\n    ")])])])},a=[]},FJIB:function(t,e,i){"use strict";var r=i("Igjo"),a=i("ML82"),n=i("XyMi"),s=i.i(n.a)(r.a,a.a,a.b,!1,null,null,null);e.a=s.exports},"G+N0":function(t,e,i){"use strict";var r=i("8PQg"),a=i("SjSB"),n=i("XyMi"),s=i.i(n.a)(r.a,a.a,a.b,!1,null,null,null);e.a=s.exports},Igjo:function(t,e,i){"use strict";e.a={name:"Pagination",props:{pages:{type:Array,required:!0},currentPage:{type:Number,required:!0}},methods:{changePage:function(t){t!==this.currentPage&&this.$emit("update:currentPage",t)},paginationClass:function(t){return{"page-item":!0,active:this.currentPage===t}}}}},Lq6d:function(t,e,i){"use strict";var r=i("tND7");e.a={name:"RwvHomeTag",components:{RwvArticleList:r.a},computed:{tag:function(){return this.$route.params.tag}}}},ML82:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",[i("ul",{staticClass:"pagination"},t._l(t.pages,function(e){return i("li",{key:e,class:t.paginationClass(e),on:{click:function(i){i.preventDefault(),t.changePage(e)}}},[i("a",{staticClass:"page-link",attrs:{href:""}},[t._v(t._s(e))])])}))])},a=[]},MpyW:function(t,e,i){"use strict";var r=i("NYxO"),a=i("VVCd"),n=i("lHQJ"),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};e.a={name:"RwvArticleMeta",components:{RwvArticleActions:a.a},props:{article:{type:Object,required:!0},actions:{type:Boolean,required:!1,default:!1}},computed:s({},i.i(r.a)(["currentUser","isAuthenticated"])),methods:{isCurrentUser:function(){return!(!this.currentUser.username||!this.article.author.username)&&this.currentUser.username===this.article.author.username},toggleFavorite:function(){if(this.isAuthenticated){var t=this.article.favorited?n.j:n.i;this.$store.dispatch(t,this.article.slug)}}}}},S0Kt:function(t,e,i){"use strict";var r=i("uc7E"),a=i("h0l0"),n=i("XyMi"),s=i.i(n.a)(r.a,a.a,a.b,!1,null,null,null);e.a=s.exports},SjSB:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-link",{class:t.className,attrs:{to:{name:"home-tag",params:{tag:t.name}}}},[t._v("\n  "+t._s(t.name)+"\n")])},a=[]},VVCd:function(t,e,i){"use strict";var r=i("1ylw"),a=i("9Ajx"),n=i("XyMi"),s=i.i(n.a)(r.a,a.a,a.b,!1,null,null,null);e.a=s.exports},XdTI:function(t,e,i){"use strict";var r=i("MpyW"),a=i("pmWv"),n=i("XyMi"),s=i.i(n.a)(r.a,a.a,a.b,!1,null,null,null);e.a=s.exports},fWCw:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isLoading?i("div",{staticClass:"article-preview"},[t._v("\n    Loading articles...\n  ")]):i("div",[0===t.articles.length?i("div",{staticClass:"article-preview"},[t._v("\n      No articles are here... yet.\n    ")]):t._e(),t._v(" "),t._l(t.articles,function(t,e){return i("rwv-article-preview",{key:t.title+e,attrs:{article:t}})}),t._v(" "),i("v-pagination",{attrs:{pages:t.pages,currentPage:t.currentPage},on:{"update:currentPage":function(e){t.currentPage=e}}})],2)])},a=[]},h0l0:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article-preview"},[i("rwv-article-meta",{attrs:{article:t.article,isPreview:!0}}),t._v(" "),i("router-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{slug:t.article.slug}}}},[i("h1",[t._v(t._s(t.article.title))]),t._v(" "),i("p",[t._v(t._s(t.article.description))]),t._v(" "),i("span",[t._v("Read more...")]),t._v(" "),i("ul",{staticClass:"tag-list"},t._l(t.article.tagList,function(e,r){return i("li",{key:e+r,staticClass:"tag-default tag-pill tag-outline"},[t._v("\n       "+t._s(e)+"\n      ")])}))])],1)},a=[]},kzGc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i("Lq6d"),a=i("qBFT"),n=i("XyMi"),s=i.i(n.a)(r.a,a.a,a.b,!1,null,null,null);e.default=s.exports},pmWv:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article-meta"},[i("router-link",{attrs:{to:{name:"profile",params:{username:t.article.author.username}}}},[i("img",{attrs:{src:t.article.author.image}})]),t._v(" "),i("div",{staticClass:"info"},[i("router-link",{staticClass:"author",attrs:{to:{name:"profile",params:{username:t.article.author.username}}}},[t._v("\n      "+t._s(t.article.author.username)+"\n    ")]),t._v(" "),i("span",{staticClass:"date"},[t._v(t._s(t._f("date")(t.article.createdAt)))])],1),t._v(" "),t.actions?[i("rwv-article-actions",{attrs:{article:t.article,canModify:t.isCurrentUser()}})]:[t.actions?t._e():i("button",{staticClass:"btn btn-sm pull-xs-right",class:{"btn-primary":t.article.favorited,"btn-outline-primary":!t.article.favorited},on:{click:t.toggleFavorite}},[i("i",{staticClass:"ion-heart"}),t._v(" "),i("span",{staticClass:"counter"},[t._v("\n        "+t._s(t.article.favoritesCount)+"\n      ")])])]],2)},a=[]},qBFT:function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return a});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-tag"},[i("RwvArticleList",{attrs:{tag:t.tag}})],1)},a=[]},sK4r:function(t,e,i){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var a=i("NYxO"),n=i("G+N0"),s=i("S0Kt"),c=i("FJIB"),o=i("lHQJ"),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};e.a={name:"rwv-article-list",components:{RwvTag:n.a,RwvArticlePreview:s.a,VPagination:c.a},props:{type:{type:String,required:!1,default:"all"},author:{type:String,required:!1},tag:{type:String,required:!1},favorited:{type:String,required:!1},itemsPerPage:{type:Number,required:!1,default:10}},data:function(){return{currentPage:1}},computed:l({listConfig:function(){var t=this.type,e={offset:(this.currentPage-1)*this.itemsPerPage,limit:this.itemsPerPage};return this.author&&(e.author=this.author),this.tag&&(e.tag=this.tag),this.favorited&&(e.favorited=this.favorited),{type:t,filters:e}},pages:function(){return this.isLoading||this.articlesCount<=this.itemsPerPage?[]:[].concat(r(Array(Math.ceil(this.articlesCount/this.itemsPerPage)).keys())).map(function(t){return t+1})}},i.i(a.a)(["articlesCount","isLoading","articles"])),watch:{currentPage:function(t){this.listConfig.filters.offset=(t-1)*this.itemsPerPage,this.fetchArticles()},type:function(){this.resetPagination(),this.fetchArticles()},author:function(){this.resetPagination(),this.fetchArticles()},tag:function(){this.resetPagination(),this.fetchArticles()},favorited:function(){this.resetPagination(),this.fetchArticles()}},mounted:function(){this.fetchArticles()},methods:{fetchArticles:function(){this.$store.dispatch(o.u,this.listConfig)},resetPagination:function(){this.listConfig.offset=0,this.currentPage=1}}}},tND7:function(t,e,i){"use strict";var r=i("sK4r"),a=i("fWCw"),n=i("XyMi"),s=i.i(n.a)(r.a,a.a,a.b,!1,null,null,null);e.a=s.exports},uc7E:function(t,e,i){"use strict";var r=i("XdTI");e.a={name:"RwvArticlePreview",props:{article:{type:Object,required:!0}},components:{RwvArticleMeta:r.a}}}});
//# sourceMappingURL=3.4a14703849f24b2e2a3f.js.map